%YAML 1.2
---
datascraper:
  use_websocket: yes  # optional, default is yes

  chain_name: steem  # may be only steem or golos

  max_attempts: 50  # how many times to retry scraping in case of unexpected error
  skip_freq: 5  # how many fails should be to skip 1 block. Don't skip - skip_freq >= max_attempts

  nodes:
    ws:
      - wss://steemd.steepshot.org
      - wss://steemd-int.steemit.com
      - wss://steemd.steemit.com
    http:
      - https://steemd.steepshot.org
      - https://steemd-int.steemit.com
      - https://steemd.steemit.com

  operation_types:
    post_operations:
      - comment
      - delete_comment
      - vote
      - author_reward
    delegate_operations:
      - delegate_vesting_shares
      - return_vesting_delegation
    transfer_operations:
      - transfer

  notification_events:
    # key - the name of the operation for notification
    # value - the name of the class from `notification.py` module
    comment: CommentEvent
    vote: VoteEvent

  curators_payouts:
    accounts_for_transfer:
      - steepshot
    currencies:
      - STEEM
    minimal_sum: 0.5

redis:
  host: 127.0.0.1
  port: 6379
  databases:
    forward_db: 7
    backward_db: 8
    result_db: 9

db:
  mongo:
    host: 127.0.0.1
    port: 27017
    db_name: SteemData
    username: steepshot  # may be absent
    password: steepshot  # may be absent
    options:  # may be absent
      ssl: "true"
      authMechanism: SCRAM-SHA-1

logger:
  version: 1
  disable_existing_loggers: False

  formatters:
    simple:
      format: "pid:%(process)d %(asctime)s (%(threadName)s) %(module)s(%(lineno)d) - %(levelname)s: %(message)s"

  handlers:
    console:
      class: logging.StreamHandler
      level: DEBUG
      formatter: simple
      stream: ext://sys.stdout

    info_file_handler:
      class: logging.handlers.RotatingFileHandler
      level: INFO
      formatter: simple
      filename: info.log
      maxBytes: 10485760 # 10MB
      backupCount: 20
      encoding: utf8

    error_file_handler:
      class: logging.handlers.RotatingFileHandler
      level: ERROR
      formatter: simple
      filename: errors.log
      maxBytes: 10485760 # 10MB
      backupCount: 20
      encoding: utf8

  root:
    level: INFO
    handlers:
      - console
      - info_file_handler
      - error_file_handler
...
